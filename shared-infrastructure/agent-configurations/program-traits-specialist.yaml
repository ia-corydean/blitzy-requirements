# Program Traits Domain Specialist Configuration
# Complete Requirements Generation System - Multi-Agent Architecture
# Specialized agent for Program Traits domain requirements processing

metadata:
  agent_name: "Program Traits Specialist"
  agent_type: "domain_specialist"
  version: "1.0.0"
  created_date: "2025-01-07"
  last_updated: "2025-01-07"
  gr_compliance: ["GR-38", "GR-44", "GR-52", "GR-49", "GR-19", "GR-41"]
  description: "Domain specialist for program rules, traits, configurations, and customizations"

# Core Agent Configuration
agent_config:
  # Agent Identity
  agent_id: "program-traits-specialist"
  display_name: "Program Traits Specialist"
  domain: "program_traits"
  agent_type: "domain_specialist"
  
  # Core Capabilities
  capabilities:
    domain_expertise: true
    pattern_recognition: true
    requirement_processing: true
    cross_domain_coordination: true
    global_requirements_validation: true
    entity_management: true
    
  # Program Traits Specific Capabilities
  domain_capabilities:
    specializations: 
      - "program_rules"
      - "traits"
      - "configurations"
      - "customizations"
      - "program_logic"
      - "business_rules"
      - "validation_rules"
      - "program_parameters"
      - "trait_management"
      - "rule_engines"
    
    primary_entities:
      - "program_trait"
      - "business_rule"
      - "configuration"
      - "validation_rule"
      - "program_parameter"
      - "rule_set"
      - "trait_definition"
      - "program_logic"
    
    secondary_entities:
      - "quote"
      - "policy"
      - "coverage"
      - "rate_factor"
      - "territory"
      - "producer"
      - "customer"
      - "workflow"
    
    workflow_expertise:
      - "rule_configuration"
      - "trait_definition"
      - "program_customization"
      - "validation_logic_creation"
      - "business_rule_implementation"
      - "configuration_management"
      - "trait_application"
      - "rule_testing"
      - "program_optimization"
      - "trait_versioning"
    
    integration_points:
      - "rule_engines"
      - "configuration_systems"
      - "validation_frameworks"
      - "workflow_engines"
      - "business_logic_services"
      - "customization_platforms"
    
  # Processing Configuration
  processing:
    max_concurrent_requirements: 4
    processing_timeout: "25 minutes"
    pattern_confidence_threshold: 0.72
    auto_validation_threshold: 0.82
    coordination_timeout: "6 minutes"

# Knowledge Base Integration
knowledge_base:
  # Program Traits Specific Knowledge
  domain_patterns: "/app/workspace/requirements/shared-infrastructure/knowledge-base/domain-patterns/program-traits/"
  domain_entities: "/app/workspace/requirements/shared-infrastructure/knowledge-base/domain-patterns/program-traits/entities.json"
  domain_workflows: "/app/workspace/requirements/shared-infrastructure/knowledge-base/domain-patterns/program-traits/workflows.json"
  domain_integrations: "/app/workspace/requirements/shared-infrastructure/knowledge-base/domain-patterns/program-traits/integrations.json"
  
  # Shared Knowledge Access
  universal_entities: "/app/workspace/requirements/shared-infrastructure/knowledge-base/universal-entity-catalog.json"
  global_requirements: "/app/workspace/requirements/shared-infrastructure/knowledge-base/global-requirements-index.json"
  cross_domain_relationships: "/app/workspace/requirements/shared-infrastructure/knowledge-base/cross-domain-relationships/relationship-map.json"
  communication_templates: "/app/workspace/requirements/shared-infrastructure/knowledge-base/global-patterns/communication-templates/"
  service_integrations: "/app/workspace/requirements/shared-infrastructure/knowledge-base/global-patterns/service-integrations/"
  
  # Caching Configuration
  cache_enabled: true
  cache_ttl: "6 hours"  # Longer cache for configuration data
  cache_size_limit: "100MB"

# System Orchestrator Integration
orchestrator_integration:
  orchestrator_agent_id: "system-orchestrator"
  coordination_mode: "collaborative"
  shared_context_participation: true
  cross_domain_coordination: true
  priority_level: "medium"
  
  # Communication Patterns
  reporting_frequency: "real_time"
  status_updates: true
  performance_metrics_sharing: true
  error_escalation: "automatic"
  configuration_coordination: true

# Universal Validator Integration
validator_integration:
  validator_agent_id: "universal-validator"
  validation_stages:
    - "pre_processing"
    - "rule_validation"
    - "configuration_validation"
    - "post_processing"
    - "cross_domain_consistency"
  
  # Validation Configuration
  fail_fast_enabled: true
  progressive_validation: true
  confidence_threshold: 0.82
  auto_fix_enabled: true  # Can auto-fix configuration issues

# Pattern Recognition Configuration
pattern_recognition:
  # Pattern Matching (Program Traits optimized)
  similarity_threshold: 0.72
  max_patterns_per_requirement: 7
  domain_pattern_weight: 0.85  # Strong preference for Program Traits patterns
  universal_pattern_weight: 0.15
  
  # Program Traits Specific Pattern Weights
  rule_patterns_weight: 0.95  # Highest weight for rule patterns
  configuration_patterns_weight: 0.90  # High weight for configuration patterns
  trait_patterns_weight: 0.85  # High weight for trait patterns
  validation_patterns_weight: 0.80
  
  # Pattern Learning
  pattern_learning_enabled: true
  success_pattern_tracking: true
  failure_pattern_avoidance: true
  confidence_improvement_tracking: true
  
  # Pattern Application
  auto_apply_high_confidence: true  # >88% confidence
  suggest_medium_confidence: true   # 72-88% confidence
  manual_review_low_confidence: true  # <72% confidence

# Workflow Processing
workflow_processing:
  # Processing Modes
  supported_modes:
    - "individual_requirement"
    - "batch_processing"
    - "cross_domain_coordination"
    - "emergency_processing"
    - "rule_configuration_processing"    # Program Traits specific
    - "trait_definition_processing"      # Program Traits specific
    - "configuration_management_processing" # Program Traits specific
  
  # Program Traits Workflow
  domain_workflow:
    1_analysis:
      - "requirement_validation"
      - "configuration_context_analysis"
      - "entity_extraction"
      - "rule_trait_pattern_matching"
      - "business_logic_analysis"
      - "complexity_assessment"
      
    2_processing:
      - "program_traits_expertise_application"
      - "rule_pattern_application"
      - "configuration_entity_resolution"
      - "workflow_design"
      - "rule_engine_integration_planning"
      - "validation_framework_integration"
      
    3_validation:
      - "program_traits_domain_validation"
      - "rule_consistency_validation"
      - "configuration_completeness_validation"
      - "cross_domain_rule_consistency"
      - "global_requirements_compliance"
      - "business_logic_validation"
      
    4_finalization:
      - "program_traits_artifact_generation"
      - "configuration_documentation_creation"
      - "pattern_library_update"
      - "program_traits_metrics_recording"
      - "rule_version_management"
  
  # Quality Gates (Program Traits specific)
  quality_gates:
    entity_completeness: ">85%"
    pattern_coverage: ">80%"
    gr_compliance: ">94%"
    cross_domain_consistency: ">82%"
    rule_completeness: ">90%"
    configuration_accuracy: ">88%"
    trait_definition_completeness: ">85%"

# Entity Management (Program Traits specific)
entity_management:
  # Program Traits Entity Priorities
  primary_entity_focus:
    - "program_trait"
    - "business_rule"
    - "configuration"
    - "validation_rule"
    - "program_parameter"
  
  # Entity Recognition
  entity_extraction_enabled: true
  universal_entity_reuse: true
  domain_entity_specialization: true
  entity_validation: "strict"
  configuration_entity_validation: "enhanced"
  
  # Program Traits Entity Relationships
  critical_relationships:
    - "program_trait_to_business_rule"
    - "configuration_to_program_parameter"
    - "validation_rule_to_entity"
    - "rule_set_to_program_trait"
    - "program_logic_to_workflow"
    - "trait_definition_to_configuration"
  
  # Entity Standards Compliance
  compliance_standards:
    - "GR-52 Universal Entity Management"
    - "GR-41 Database Design Standards"
    - "GR-19 Table Relationships"
    - "GR-02 Audit Field Standards"
    - "Configuration Management Standards"
    - "Business Rule Standards"

# Communication & Coordination
communication:
  # Shared Context Participation
  shared_context_manager: "/app/workspace/requirements/shared-infrastructure/intelligence-engines/shared-context-manager.py"
  memory_interface: "/app/workspace/requirements/shared-infrastructure/intelligence-engines/agent-memory-interface.py"
  
  # Communication Patterns
  sync_mode: "real_time"
  sync_interval: "15 seconds"
  conflict_resolution: "configuration_authority"  # Program Traits has authority on configuration matters
  
  # Program Traits Message Types
  supported_messages:
    - "requirement_assignment"
    - "rule_coordination_request"
    - "configuration_coordination_request"
    - "trait_coordination_request"
    - "validation_coordination_request"
    - "cross_domain_coordination_request"
    - "pattern_sharing"
    - "entity_discovery"
    - "validation_request"
    - "status_update"
    - "error_notification"
    - "configuration_alert"

# Performance & Monitoring
performance:
  # Performance Targets (Program Traits specific)
  targets:
    processing_time: "< 20 minutes per requirement"
    pattern_recognition_accuracy: "> 78%"
    entity_extraction_accuracy: "> 85%"
    gr_compliance_accuracy: "> 94%"
    coordination_overhead: "< 9%"
    rule_accuracy: "> 90%"
    configuration_completeness: "> 88%"
    trait_definition_accuracy: "> 85%"
  
  # Metrics Collection
  metrics:
    processing_time_tracking: true
    pattern_success_tracking: true
    entity_accuracy_tracking: true
    error_rate_tracking: true
    coordination_efficiency_tracking: true
    rule_workflow_metrics: true
    configuration_workflow_metrics: true
    trait_workflow_metrics: true
  
  # Performance Optimization
  optimization:
    caching_enabled: true
    pattern_indexing: true
    entity_caching: true
    batch_processing_optimization: true
    rule_pattern_optimization: true
    configuration_caching: true

# Queue Management
queue_management:
  # Program Traits Queue Configuration
  input_queue: "/app/workspace/requirements/processing-queues/program-traits/pending/"
  processing_queue: "/app/workspace/requirements/processing-queues/program-traits/in-progress/"
  completed_queue: "/app/workspace/requirements/processing-queues/program-traits/completed/"
  intelligence_queue: "/app/workspace/requirements/processing-queues/program-traits/intelligence/"
  cross_domain_queue: "/app/workspace/requirements/processing-queues/program-traits/cross-domain-batches/"
  
  # Processing Configuration
  polling_interval: "40 seconds"
  max_queue_size: 30
  priority_processing: true
  load_balancing: "balanced"
  
  # Queue Monitoring
  queue_monitoring: true
  alert_thresholds:
    queue_size_warning: 22
    queue_size_critical: 27
    processing_time_warning: "15 minutes"
    processing_time_critical: "20 minutes"

# Program Traits Specific Configuration
program_traits_config:
  # Business Rules
  business_rules:
    rule_definition_rules:
      rule_syntax_validation: "strict"
      rule_dependency_validation: true
      rule_conflict_detection: true
      rule_versioning: "semantic"
    
    configuration_rules:
      configuration_inheritance: "hierarchical"
      configuration_validation: "comprehensive"
      configuration_versioning: true
      configuration_rollback: "supported"
    
    trait_rules:
      trait_composition: "modular"
      trait_inheritance: "supported"
      trait_conflict_resolution: "priority_based"
      trait_versioning: "tracked"
  
  # Integration Specifications
  external_integrations:
    rule_engines:
      primary_rule_engine:
        integration_pattern: "api"
        timeout: "15 seconds"
        retry_policy: "2_retries_exponential"
        caching: "enabled"
      
      validation_engine:
        integration_pattern: "embedded"
        timeout: "5 seconds"
        retry_policy: "1_retry"
        caching: "aggressive"
        
    configuration_systems:
      configuration_manager:
        integration_pattern: "database"
        timeout: "10 seconds"
        retry_policy: "3_retries_linear"
        versioning: "enabled"
        
    workflow_engines:
      business_process_engine:
        integration_pattern: "event_driven"
        timeout: "30 seconds"
        retry_policy: "2_retries"
        async_processing: true
  
  # Workflow Customizations
  workflow_customizations:
    rule_workflow:
      rule_authoring: "visual_editor"
      rule_testing: "automated"
      rule_deployment: "versioned"
      rule_monitoring: "real_time"
      
    configuration_workflow:
      configuration_management: "hierarchical"
      environment_promotion: "automated"
      configuration_validation: "pre_deployment"
      rollback_capability: "instant"
      
    trait_workflow:
      trait_composition: "drag_drop"
      trait_testing: "sandbox"
      trait_deployment: "gradual_rollout"
      trait_monitoring: "performance_tracking"

# Error Handling & Recovery
error_handling:
  # Program Traits Specific Error Handling
  domain_error_categories:
    - "rule_validation_error"
    - "configuration_error"
    - "trait_definition_error"
    - "business_logic_error"
    - "rule_engine_error"
    - "configuration_conflict_error"
    - "trait_composition_error"
  
  # Error Management
  error_tracking: true
  error_categorization: true
  automatic_retry: true
  escalation_enabled: true
  
  # Retry Configuration
  retry_policy:
    max_retries: 2  # Conservative for configuration changes
    retry_intervals: ["45s", "3m"]
    backoff_strategy: "linear"
    retry_conditions: 
      - "temporary_failure"
      - "timeout"
      - "rule_engine_temporary_error"
      - "configuration_lock_error"
  
  # Escalation Rules
  escalation:
    escalate_to: "system-orchestrator"
    escalation_triggers:
      - "2_consecutive_failures"
      - "configuration_corruption"
      - "rule_conflict_error"
      - "business_logic_violation"
    escalation_timeout: "4 minutes"
  
  # Recovery Procedures
  recovery:
    automatic_recovery: true
    recovery_timeout: "3 minutes"
    fallback_modes: 
      - "default_configuration"
      - "manual_intervention"
      - "configuration_rollback"

# Compliance & Audit
compliance:
  # Program Traits Specific Compliance
  domain_compliance:
    configuration_management_compliance: true
    business_rule_documentation: true
    change_management_compliance: true
    version_control_compliance: true
    
  # Regulatory Compliance
  regulatory_requirements:
    data_retention: "7 years"
    audit_trail: "complete"
    privacy_protection: "gdpr_compliant"
    security_standards: "iso27001"
    configuration_audit: "detailed"
  
  # Audit Configuration
  audit:
    audit_enabled: true
    audit_level: "full"
    audit_retention: "7 years"
    audit_format: "structured_json"
    rule_change_tracking: true
    configuration_change_tracking: true
  
  # Change Control
  change_control:
    change_approval_required: true
    change_documentation: "mandatory"
    change_testing: "required"
    change_rollback_plan: "mandatory"
    change_communication: "automated"